{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useResponsiveQuery = exports.getStyleElement = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _atomic3 = require(\"../react-native-web-fucntions/atomic\");\nvar _preprocess = _interopRequireDefault(require(\"../react-native-web-fucntions/preprocess\"));\nvar _reactNative = require(\"react-native\");\nvar _stableHash = _interopRequireDefault(require(\"stable-hash\"));\nvar _hash = _interopRequireDefault(require(\"./hash\"));\nvar _useStableMemo = require(\"./useStableMemo\");\nvar _common = require(\"./common\");\nvar _ResponsiveQueryProvider = require(\"./ResponsiveQueryProvider\");\nvar _react = _interopRequireDefault(require(\"react\"));\nvar textContentMap = {};\nvar useResponsiveQuery = exports.useResponsiveQuery = function useResponsiveQuery(queries) {\n  var _queries$disableCSSMe;\n  var responsiveQueryContext = _react.default.useContext(_ResponsiveQueryProvider.ResponsiveQueryContext);\n  var disableCSSMediaQueries = (_queries$disableCSSMe = queries === null || queries === void 0 ? void 0 : queries.disableCSSMediaQueries) !== null && _queries$disableCSSMe !== void 0 ? _queries$disableCSSMe : responsiveQueryContext.disableCSSMediaQueries;\n  var windowWidth = (0, _common.useDimensionsWithEnable)({\n    enable: disableCSSMediaQueries\n  }).width;\n  var values = (0, _useStableMemo.useStableMemo)(function () {\n    if (disableCSSMediaQueries) {\n      var _getResponsiveStyles = (0, _common.getResponsiveStylesImpl)(windowWidth);\n      if (queries) {\n        var _getResponsiveStyles2 = _getResponsiveStyles(queries),\n          styles = _getResponsiveStyles2.styles;\n        return {\n          styles: styles,\n          getResponsiveStyles: _getResponsiveStyles\n        };\n      } else {\n        return {\n          getResponsiveStyles: _getResponsiveStyles\n        };\n      }\n    } else {\n      if (queries) {\n        var _getResponsiveStyles3 = getResponsiveStyles(queries),\n          _styles = _getResponsiveStyles3.styles,\n          dataSet = _getResponsiveStyles3.dataSet;\n        return {\n          dataSet: dataSet,\n          styles: _styles,\n          getResponsiveStyles: getResponsiveStyles\n        };\n      } else {\n        return {\n          getResponsiveStyles: getResponsiveStyles\n        };\n      }\n    }\n  }, [queries, windowWidth, disableCSSMediaQueries]);\n  return values;\n};\nvar getDataAttribute = function getDataAttribute(queryRule) {\n  if (typeof queryRule.minWidth === 'number' && typeof queryRule.maxWidth === 'number') {\n    return \"min-width-\".concat(queryRule.minWidth, \"-max-width-\").concat(queryRule.maxWidth);\n  } else if (typeof queryRule.minWidth === 'number') {\n    return \"min-width-\".concat(queryRule.minWidth);\n  } else if (typeof queryRule.maxWidth === 'number') {\n    return \"max-width-\".concat(queryRule.maxWidth);\n  }\n  return undefined;\n};\nvar getMediaQueryRule = function getMediaQueryRule(query, newRule) {\n  if (typeof query.minWidth === 'number' && typeof query.maxWidth === 'number') {\n    return \"@media only screen and (min-width: \".concat(query.minWidth, \"px) and (max-width: \").concat(query.maxWidth, \"px) { \").concat(newRule, \" }\");\n  } else if (typeof query.minWidth === 'number') {\n    return \"@media only screen and (min-width: \".concat(query.minWidth, \"px) { \").concat(newRule, \" }\");\n  } else if (typeof query.maxWidth === 'number') {\n    return \"@media only screen and (max-width: \".concat(query.maxWidth, \"px) { \").concat(newRule, \" }\");\n  }\n  return undefined;\n};\nvar styleSheet;\nvar insert = function insert(rule) {\n  if (rule === '') {\n    return;\n  }\n  if (typeof window !== 'undefined') {\n    if (!styleSheet) {\n      var styleEl = document.createElement('style');\n      styleEl.type = 'text/css';\n      styleEl.appendChild(document.createTextNode(''));\n      document.head.appendChild(styleEl);\n      styleSheet = styleEl.sheet;\n    }\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n};\nvar getResponsiveStyles = function getResponsiveStyles(queries) {\n  var queryString = (0, _stableHash.default)(queries.query);\n  var queriesHash = (0, _hash.default)(queryString);\n  var styles = queries.initial ? [_reactNative.StyleSheet.create({\n    initial: _reactNative.StyleSheet.flatten(queries.initial)\n  }).initial] : undefined;\n  var dataSet = {};\n  if (queries.query) {\n    queries.query.forEach(function (queryRule) {\n      var queryHash = queriesHash + (0, _hash.default)((0, _stableHash.default)(queryRule));\n      var dataAttribute = getDataAttribute(queryRule);\n      if (dataAttribute) {\n        var newIdentifier = \"[data-\".concat(dataAttribute, \"$=\\\"\").concat(queryHash, \"\\\"]\");\n        dataSet[dataAttribute] = queryHash;\n        var mediaRules = '';\n        var flattenQueryStyle = _reactNative.StyleSheet.flatten(queryRule.style);\n        var newStyle = (0, _preprocess.default)(flattenQueryStyle);\n        var _atomic = (0, _atomic3.atomic)(newStyle),\n          _atomic2 = (0, _slicedToArray2.default)(_atomic, 2),\n          compiledStyle = _atomic2[0],\n          compiledOrderedRules = _atomic2[1];\n        delete compiledStyle.$$css;\n        Object.keys(compiledStyle).forEach(function (key) {\n          var oldIdentifier = compiledStyle[key];\n          compiledOrderedRules.forEach(function (_ref) {\n            var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              rules = _ref2[0],\n              _order = _ref2[1];\n            var newRule = '';\n            if (rules[0].includes(oldIdentifier)) {\n              newRule = rules[0].replace('.' + oldIdentifier, newIdentifier);\n            }\n            mediaRules += newRule;\n          });\n        });\n        if (mediaRules) {\n          var mediaQueryRule = getMediaQueryRule(queryRule, mediaRules);\n          var queryKey = \"/*\".concat(queryHash, \"{}*/\").concat(mediaQueryRule);\n          if (!textContentMap[queryKey]) {\n            insert(queryKey);\n            textContentMap[queryKey] = true;\n          }\n        }\n      }\n    });\n  }\n  return {\n    styles: styles,\n    dataSet: dataSet\n  };\n};\nvar getStyleElement = exports.getStyleElement = function getStyleElement() {\n  return _react.default.createElement(\"style\", {\n    type: \"text/css\",\n    dangerouslySetInnerHTML: {\n      __html: Object.keys(textContentMap).join('')\n    }\n  });\n};","map":{"version":3,"names":["_atomic3","require","_preprocess","_interopRequireDefault","_reactNative","_stableHash","_hash","_useStableMemo","_common","_ResponsiveQueryProvider","_react","textContentMap","useResponsiveQuery","exports","queries","_queries$disableCSSMe","responsiveQueryContext","React","useContext","ResponsiveQueryContext","disableCSSMediaQueries","windowWidth","useDimensionsWithEnable","enable","width","values","useStableMemo","getResponsiveStyles","getResponsiveStylesImpl","_getResponsiveStyles2","styles","_getResponsiveStyles3","dataSet","getDataAttribute","queryRule","minWidth","maxWidth","concat","undefined","getMediaQueryRule","query","newRule","styleSheet","insert","rule","window","styleEl","document","createElement","type","appendChild","createTextNode","head","sheet","insertRule","cssRules","length","queryString","stableHash","queriesHash","hash","initial","StyleSheet","create","flatten","forEach","queryHash","dataAttribute","newIdentifier","mediaRules","flattenQueryStyle","style","newStyle","preprocess","_atomic","atomic","_atomic2","_slicedToArray2","default","compiledStyle","compiledOrderedRules","$$css","Object","keys","key","oldIdentifier","_ref","_ref2","rules","_order","includes","replace","mediaQueryRule","queryKey","getStyleElement","dangerouslySetInnerHTML","__html","join"],"sources":["D:\\Programming\\Systems\\Hybrid-Systems\\RespondaPH\\mobile\\node_modules\\native-base\\lib\\module\\utils\\useResponsiveQuery\\useResponsiveQuery.web.tsx"],"sourcesContent":["// import { atomic } from 'react-native-web/dist/exports/StyleSheet/compiler';\nimport { atomic } from '../react-native-web-fucntions/atomic';\nimport preprocess from '../react-native-web-fucntions/preprocess';\nimport type {\n  DataSet,\n  Query,\n  UseResponsiveQueryParams,\n  UseResponsiveQueryReturnType,\n  GetResponsiveStylesParams,\n} from './types';\nimport { StyleSheet } from 'react-native';\n// @ts-ignore\nimport stableHash from 'stable-hash';\nimport hash from './hash';\nimport type { GetResponsiveStylesReturnType } from './types';\nimport { useStableMemo } from './useStableMemo';\nimport { getResponsiveStylesImpl, useDimensionsWithEnable } from './common';\nimport { ResponsiveQueryContext } from './ResponsiveQueryProvider';\nimport React from 'react';\n\n/******************** Implementation after RNW v0.18 ***********************/\n\n/**\n * 1. preprocess:- Handles shadow/text shadow conversion from RN styles to web *                 styles\n *\n * 2. atomic:- it handles prefixing, converting RN specific styles to web styles *             and generating the CSS selector.\n *             Input {marginTop: 10}\n *             Output\n *             compiledStyle : marginTop: \"r-marginTop-156q2ks\"\n *             compiledOrderedRules : \".r-marginTop-156q2ks{margin-top:10px;}\"\n *      a)compiledStyle:- Array it holds identifier/selector with properties\n *      b)compiledOrderedRules:- Array it holds the css rule with selector name\n *      Also from RNW v0.18 handles swapping of ltr styles if enabled by user\n * 3. createSheet:- used to grab sheet which exist already created by rnw. when we *                  call createSheet without id it will return sheet which exist. *                  cause it automatically takes a default ID  which is already in *                  use (created by rnw with default ID) so this return sheet *                  which exist with  ID doesn't create a new sheet.\n *\n * This Implementation is based on asumptions that RNW doesn't change the         * function  or doesn't re-write them. if there is any change in RNW implmentation * it we'll break and needs to be updated.\n *\n */\nlet textContentMap: any = {};\n\nexport const useResponsiveQuery = (\n  queries?: UseResponsiveQueryParams\n): UseResponsiveQueryReturnType => {\n  const responsiveQueryContext = React.useContext(ResponsiveQueryContext);\n  const disableCSSMediaQueries =\n    queries?.disableCSSMediaQueries ??\n    responsiveQueryContext.disableCSSMediaQueries;\n\n  // Only attaches listener if disableCSSMediaQueries is true\n  const windowWidth = useDimensionsWithEnable({\n    enable: disableCSSMediaQueries,\n  }).width;\n\n  const values = useStableMemo(() => {\n    // Use the non-media query responsive styling\n    if (disableCSSMediaQueries) {\n      const getResponsiveStyles = getResponsiveStylesImpl(windowWidth);\n      if (queries) {\n        const { styles } = getResponsiveStyles(queries);\n        return { styles, getResponsiveStyles };\n      } else {\n        return { getResponsiveStyles };\n      }\n    } else {\n      if (queries) {\n        const { styles, dataSet } = getResponsiveStyles(queries);\n        return { dataSet, styles, getResponsiveStyles };\n      } else {\n        return { getResponsiveStyles };\n      }\n    }\n  }, [queries, windowWidth, disableCSSMediaQueries]);\n\n  return values;\n};\n\nconst getDataAttribute = (queryRule: Query) => {\n  if (\n    typeof queryRule.minWidth === 'number' &&\n    typeof queryRule.maxWidth === 'number'\n  ) {\n    return `min-width-${queryRule.minWidth}-max-width-${queryRule.maxWidth}`;\n  } else if (typeof queryRule.minWidth === 'number') {\n    return `min-width-${queryRule.minWidth}`;\n  } else if (typeof queryRule.maxWidth === 'number') {\n    return `max-width-${queryRule.maxWidth}`;\n  }\n\n  return undefined;\n};\n\nconst getMediaQueryRule = (query: Query, newRule: string) => {\n  if (\n    typeof query.minWidth === 'number' &&\n    typeof query.maxWidth === 'number'\n  ) {\n    return `@media only screen and (min-width: ${query.minWidth}px) and (max-width: ${query.maxWidth}px) { ${newRule} }`;\n  } else if (typeof query.minWidth === 'number') {\n    return `@media only screen and (min-width: ${query.minWidth}px) { ${newRule} }`;\n  } else if (typeof query.maxWidth === 'number') {\n    return `@media only screen and (max-width: ${query.maxWidth}px) { ${newRule} }`;\n  }\n  return undefined;\n};\nlet styleSheet: any;\nconst insert = (rule: string) => {\n  if (rule === '') {\n    return;\n  }\n  if (typeof window !== 'undefined') {\n    if (!styleSheet) {\n      const styleEl = document.createElement('style');\n      styleEl.type = 'text/css';\n      styleEl.appendChild(document.createTextNode(''));\n      document.head.appendChild(styleEl);\n      styleSheet = styleEl.sheet;\n    }\n\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n};\nconst getResponsiveStyles = (\n  queries: GetResponsiveStylesParams\n): GetResponsiveStylesReturnType => {\n  const queryString = stableHash(queries.query);\n\n  const queriesHash = hash(queryString);\n\n  const styles = queries.initial\n    ? [\n        StyleSheet.create({ initial: StyleSheet.flatten(queries.initial) })\n          .initial,\n      ]\n    : undefined;\n\n  let dataSet: DataSet = {};\n\n  /**\n   * This function is copied from intergalacticspacehighway/rnw-responsive-ssr\n   */\n\n  if (queries.query) {\n    queries.query.forEach((queryRule) => {\n      const queryHash = queriesHash + hash(stableHash(queryRule));\n      const dataAttribute = getDataAttribute(queryRule);\n\n      if (dataAttribute) {\n        const newIdentifier = `[data-${dataAttribute}$=\"${queryHash}\"]`;\n        dataSet[dataAttribute] = queryHash;\n\n        let mediaRules = '';\n\n        const flattenQueryStyle = StyleSheet.flatten(queryRule.style);\n        const newStyle = preprocess(flattenQueryStyle);\n        const [compiledStyle, compiledOrderedRules] = atomic(newStyle);\n        //@ts-ignore\n        delete compiledStyle.$$css; //removing unnecessary $$css property\n        Object.keys(compiledStyle).forEach((key) => {\n          const oldIdentifier = compiledStyle[key];\n          compiledOrderedRules.forEach(([rules, _order]: any) => {\n            // Rule returned by atomic has css selectors, so we'll replace it with data-attr selector\n\n            let newRule = '';\n            if (rules[0].includes(oldIdentifier)) {\n              newRule = rules[0].replace('.' + oldIdentifier, newIdentifier);\n            }\n            mediaRules += newRule;\n          });\n        });\n        if (mediaRules) {\n          const mediaQueryRule = getMediaQueryRule(queryRule, mediaRules);\n\n          const queryKey = `/*${queryHash}{}*/${mediaQueryRule}`;\n\n          if (!textContentMap[queryKey]) {\n            insert(queryKey);\n            textContentMap[queryKey] = true;\n          }\n        }\n      }\n    });\n  }\n\n  return { styles, dataSet };\n};\n\n/**\n * This function is copied from intergalacticspacehighway/rnw-responsive-ssr\n */\nexport const getStyleElement = () => {\n  return (\n    <style\n      type=\"text/css\"\n      dangerouslySetInnerHTML={{ __html: Object.keys(textContentMap).join('') }}\n    />\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}