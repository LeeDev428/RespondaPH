{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useComboBoxState = useComboBoxState;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _menu = require(\"@react-stately/menu\");\nvar _react = require(\"react\");\nvar _utils = require(\"@react-stately/utils\");\nvar _list = require(\"@react-stately/list\");\nvar _extends = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/extends\"));\nfunction useComboBoxState(props) {\n  var _props$defaultInputVa, _props$items, _ref, _props$selectedKey;\n  var defaultFilter = props.defaultFilter,\n    _props$menuTrigger = props.menuTrigger,\n    menuTrigger = _props$menuTrigger === void 0 ? 'input' : _props$menuTrigger,\n    _props$allowsEmptyCol = props.allowsEmptyCollection,\n    allowsEmptyCollection = _props$allowsEmptyCol === void 0 ? false : _props$allowsEmptyCol,\n    allowsCustomValue = props.allowsCustomValue,\n    _props$shouldCloseOnB = props.shouldCloseOnBlur,\n    shouldCloseOnBlur = _props$shouldCloseOnB === void 0 ? true : _props$shouldCloseOnB;\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    isFocused = _useState2[0],\n    setFocusedState = _useState2[1];\n  var _useControlledState = (0, _utils.useControlledState)(props.inputValue, (_props$defaultInputVa = props.defaultInputValue) != null ? _props$defaultInputVa : '', props.onInputChange),\n    _useControlledState2 = (0, _slicedToArray2.default)(_useControlledState, 2),\n    inputValue = _useControlledState2[0],\n    setInputValue = _useControlledState2[1];\n  var onSelectionChange = function onSelectionChange(key) {\n    if (props.onSelectionChange) {\n      props.onSelectionChange(key);\n    }\n    if (props.isOpen === undefined || props.selectedKey === undefined) {\n      if (key === selectedKey) {\n        resetInputValue();\n        triggerState.close();\n      }\n    }\n  };\n  var _useSingleSelectListS = (0, _list.useSingleSelectListState)((0, _extends.default)({}, props, {\n      onSelectionChange: onSelectionChange,\n      items: (_props$items = props.items) != null ? _props$items : props.defaultItems\n    })),\n    collection = _useSingleSelectListS.collection,\n    selectionManager = _useSingleSelectListS.selectionManager,\n    selectedKey = _useSingleSelectListS.selectedKey,\n    setSelectedKey = _useSingleSelectListS.setSelectedKey,\n    selectedItem = _useSingleSelectListS.selectedItem,\n    disabledKeys = _useSingleSelectListS.disabledKeys;\n  var filteredCollection = (0, _react.useMemo)(function () {\n    return (props.items != null || !defaultFilter ? collection : $b1b6afed698df4428b7ed319af4b90$var$filterCollection(collection, inputValue, defaultFilter)\n    );\n  }, [collection, inputValue, defaultFilter, props.items]);\n  var triggerState = (0, _menu.useMenuTriggerState)(props);\n  var open = function open(focusStrategy) {\n    if (allowsEmptyCollection || filteredCollection.size > 0) {\n      triggerState.open(focusStrategy);\n    }\n  };\n  var toggle = function toggle(focusStrategy) {\n    if (!(allowsEmptyCollection || filteredCollection.size > 0) && !triggerState.isOpen) {\n      return;\n    }\n    triggerState.toggle(focusStrategy);\n  };\n  var lastValue = (0, _react.useRef)(inputValue);\n  var resetInputValue = function resetInputValue() {\n    var _collection$getItem$t, _collection$getItem;\n    var itemText = (_collection$getItem$t = (_collection$getItem = collection.getItem(selectedKey)) == null ? void 0 : _collection$getItem.textValue) != null ? _collection$getItem$t : '';\n    lastValue.current = itemText;\n    setInputValue(itemText);\n  };\n  var isInitialRender = (0, _react.useRef)(true);\n  var lastSelectedKey = (0, _react.useRef)((_ref = (_props$selectedKey = props.selectedKey) != null ? _props$selectedKey : props.defaultSelectedKey) != null ? _ref : null);\n  (0, _react.useEffect)(function () {\n    if (isFocused && filteredCollection.size > 0 && !triggerState.isOpen && inputValue !== lastValue.current && menuTrigger !== 'manual' && (props.isOpen === undefined || props.inputValue === undefined)) {\n      open();\n    }\n    if (!allowsEmptyCollection && triggerState.isOpen && filteredCollection.size === 0 && (props.isOpen === undefined || props.items === undefined)) {\n      triggerState.close();\n    }\n    if (selectedKey != null && selectedKey !== lastSelectedKey.current && (props.isOpen === undefined || props.selectedKey === undefined)) {\n      triggerState.close();\n    }\n    if (inputValue !== lastValue.current) {\n      selectionManager.setFocusedKey(null);\n      if (inputValue === '' && (props.inputValue === undefined || props.selectedKey === undefined)) {\n        setSelectedKey(null);\n      }\n    }\n    if (isInitialRender.current && props.inputValue === undefined && props.defaultInputValue === undefined) {\n      resetInputValue();\n    }\n    if (selectedKey !== lastSelectedKey.current && (props.inputValue === undefined || props.selectedKey === undefined)) {\n      resetInputValue();\n    } else {\n      lastValue.current = inputValue;\n    }\n    isInitialRender.current = false;\n    lastSelectedKey.current = selectedKey;\n  });\n  (0, _react.useEffect)(function () {\n    if (!triggerState.isOpen) {\n      selectionManager.setFocusedKey(null);\n    }\n  }, [triggerState.isOpen, selectionManager]);\n  var commitCustomValue = function commitCustomValue() {\n    var shouldClose = false;\n    lastSelectedKey.current = null;\n    setSelectedKey(null);\n    if (selectedKey === null && props.onSelectionChange) {\n      props.onSelectionChange(null);\n    }\n    shouldClose = props.isOpen == null || props.selectedKey === undefined;\n    if (shouldClose) {\n      triggerState.close();\n    }\n  };\n  var commit = function commit() {\n    if (triggerState.isOpen && selectionManager.focusedKey != null) {\n      if (selectedKey === selectionManager.focusedKey) {\n        resetInputValue();\n        triggerState.close();\n      } else {\n        setSelectedKey(selectionManager.focusedKey);\n      }\n    } else if (allowsCustomValue) {\n      commitCustomValue();\n    }\n  };\n  var setFocused = function setFocused(isFocused) {\n    if (isFocused) {\n      if (menuTrigger === 'focus') {\n        open();\n      }\n    } else if (shouldCloseOnBlur) {\n      var _collection$getItem$t2, _collection$getItem2;\n      var itemText = (_collection$getItem$t2 = (_collection$getItem2 = collection.getItem(selectedKey)) == null ? void 0 : _collection$getItem2.textValue) != null ? _collection$getItem$t2 : '';\n      if (allowsCustomValue && inputValue !== itemText) {\n        commitCustomValue();\n      } else {\n        resetInputValue();\n        triggerState.close();\n      }\n    }\n    setFocusedState(isFocused);\n  };\n  return (0, _extends.default)({}, triggerState, {\n    toggle: toggle,\n    open: open,\n    selectionManager: selectionManager,\n    selectedKey: selectedKey,\n    setSelectedKey: setSelectedKey,\n    disabledKeys: disabledKeys,\n    isFocused: isFocused,\n    setFocused: setFocused,\n    selectedItem: selectedItem,\n    collection: filteredCollection,\n    inputValue: inputValue,\n    setInputValue: setInputValue,\n    commit: commit\n  });\n}\nfunction $b1b6afed698df4428b7ed319af4b90$var$filterCollection(collection, inputValue, filter) {\n  return new _list.ListCollection($b1b6afed698df4428b7ed319af4b90$var$filterNodes(collection, inputValue, filter));\n}\nfunction $b1b6afed698df4428b7ed319af4b90$var$filterNodes(nodes, inputValue, filter) {\n  var filteredNode = [];\n  for (var node of nodes) {\n    if (node.type === 'section' && node.hasChildNodes) {\n      var filtered = $b1b6afed698df4428b7ed319af4b90$var$filterNodes(node.childNodes, inputValue, filter);\n      if ((0, _toConsumableArray2.default)(filtered).length > 0) {\n        filteredNode.push((0, _extends.default)({}, node, {\n          childNodes: filtered\n        }));\n      }\n    } else if (node.type !== 'section' && filter(node.textValue, inputValue)) {\n      filteredNode.push(node);\n    }\n  }\n  return filteredNode;\n}","map":{"version":3,"names":["useComboBoxState","props","_props$defaultInputVa","_props$items","_ref","_props$selectedKey","defaultFilter","_props$menuTrigger","menuTrigger","_props$allowsEmptyCol","allowsEmptyCollection","allowsCustomValue","_props$shouldCloseOnB","shouldCloseOnBlur","_useState","useState","_useState2","_slicedToArray2","default","isFocused","setFocusedState","_useControlledState","useControlledState","inputValue","defaultInputValue","onInputChange","_useControlledState2","setInputValue","onSelectionChange","key","isOpen","undefined","selectedKey","resetInputValue","triggerState","close","_useSingleSelectListS","useSingleSelectListState","_babelRuntimeHelpersEsmExtends","items","defaultItems","collection","selectionManager","setSelectedKey","selectedItem","disabledKeys","filteredCollection","useMemo","$b1b6afed698df4428b7ed319af4b90$var$filterCollection","useMenuTriggerState","open","focusStrategy","size","toggle","lastValue","useRef","_collection$getItem$t","_collection$getItem","itemText","getItem","textValue","current","isInitialRender","lastSelectedKey","defaultSelectedKey","useEffect","setFocusedKey","commitCustomValue","shouldClose","commit","focusedKey","setFocused","_collection$getItem$t2","_collection$getItem2","filterCollection","filter","ListCollection","$b1b6afed698df4428b7ed319af4b90$var$filterNodes","filterNodes","nodes","filteredNode","node","type","hasChildNodes","filtered","childNodes","_toConsumableArray2","length","push"],"sources":["D:\\Programming\\Systems\\Hybrid-Systems\\RespondaPH\\mobile\\node_modules\\@react-stately\\combobox\\dist\\packages\\@react-stately\\combobox\\src\\useComboBoxState.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, FocusStrategy, Node} from '@react-types/shared';\nimport {ComboBoxProps} from '@react-types/combobox';\nimport {ListCollection, useSingleSelectListState} from '@react-stately/list';\nimport {SelectState} from '@react-stately/select';\nimport {useControlledState} from '@react-stately/utils';\nimport {useEffect, useMemo, useRef, useState} from 'react';\nimport {useMenuTriggerState} from '@react-stately/menu';\n\nexport interface ComboBoxState<T> extends SelectState<T> {\n  /** The current value of the combo box input. */\n  inputValue: string,\n  /** Sets the value of the combo box input. */\n  setInputValue(value: string): void,\n  /** Selects the currently focused item and updates the input value. */\n  commit(): void\n}\n\ntype FilterFn = (textValue: string, inputValue: string) => boolean;\ninterface ComboBoxStateProps<T> extends ComboBoxProps<T> {\n  /** The filter function used to determine if a option should be included in the combo box list. */\n  defaultFilter?: FilterFn,\n  /** Whether the combo box allows the menu to be open when the collection is empty. */\n  allowsEmptyCollection?: boolean,\n  /** Whether the combo box menu should close on blur. */\n  shouldCloseOnBlur?: boolean\n}\n\n/**\n * Provides state management for a combo box component. Handles building a collection\n * of items from props and manages the option selection state of the combo box. In addition, it tracks the input value,\n * focus state, and other properties of the combo box.\n */\nexport function useComboBoxState<T extends object>(props: ComboBoxStateProps<T>): ComboBoxState<T> {\n  let {\n    defaultFilter,\n    menuTrigger = 'input',\n    allowsEmptyCollection = false,\n    allowsCustomValue,\n    shouldCloseOnBlur = true\n  } = props;\n\n  let [isFocused, setFocusedState] = useState(false);\n  let [inputValue, setInputValue] = useControlledState(\n    props.inputValue,\n    props.defaultInputValue ?? '',\n    props.onInputChange\n  );\n\n  let onSelectionChange = (key) => {\n    if (props.onSelectionChange) {\n      props.onSelectionChange(key);\n    }\n\n    // If open state or selectedKey is uncontrolled and key is the same, reset the inputValue and close the menu\n    // (scenario: user clicks on already selected option)\n    if (props.isOpen === undefined || props.selectedKey === undefined) {\n      if (key === selectedKey) {\n        resetInputValue();\n        triggerState.close();\n      }\n    }\n  };\n\n  let {collection, selectionManager, selectedKey, setSelectedKey, selectedItem, disabledKeys} = useSingleSelectListState({\n    ...props,\n    onSelectionChange,\n    items: props.items ?? props.defaultItems\n  });\n\n  let filteredCollection = useMemo(() => (\n    // No default filter if items are controlled.\n    props.items != null || !defaultFilter\n      ? collection\n      : filterCollection(collection, inputValue, defaultFilter)\n  ), [collection, inputValue, defaultFilter, props.items]);\n\n  let triggerState = useMenuTriggerState(props);\n  let open = (focusStrategy?: FocusStrategy) => {\n    // Prevent open operations from triggering if there is nothing to display\n    if (allowsEmptyCollection || filteredCollection.size > 0) {\n      triggerState.open(focusStrategy);\n    }\n  };\n\n  let toggle = (focusStrategy?: FocusStrategy) => {\n    // If the menu is closed and there is nothing to display, early return so toggle isn't called to prevent extraneous onOpenChange\n    if (!(allowsEmptyCollection || filteredCollection.size > 0) && !triggerState.isOpen) {\n      return;\n    }\n\n    triggerState.toggle(focusStrategy);\n  };\n\n  let lastValue = useRef(inputValue);\n  let resetInputValue = () => {\n    let itemText = collection.getItem(selectedKey)?.textValue ?? '';\n    lastValue.current = itemText;\n    setInputValue(itemText);\n  };\n\n  let isInitialRender = useRef(true);\n  let lastSelectedKey = useRef(props.selectedKey ?? props.defaultSelectedKey ?? null);\n  useEffect(() => {\n    // If open state or inputValue is uncontrolled, open and close automatically when the input value changes,\n    // the input is if focused, and there are items in the collection.\n    if (\n      isFocused &&\n      filteredCollection.size > 0 &&\n      !triggerState.isOpen &&\n      inputValue !== lastValue.current &&\n      menuTrigger !== 'manual' &&\n      (props.isOpen === undefined || props.inputValue === undefined)\n    ) {\n      open();\n    }\n\n    // Close the menu if the collection is empty and either open state or items are uncontrolled.\n    if (\n      !allowsEmptyCollection &&\n      triggerState.isOpen &&\n      filteredCollection.size === 0 &&\n      (props.isOpen === undefined || props.items === undefined)\n    ) {\n      triggerState.close();\n    }\n\n    // Close when an item is selected, if open state or selectedKey is uncontrolled.\n    if (\n      selectedKey != null &&\n      selectedKey !== lastSelectedKey.current &&\n      (props.isOpen === undefined || props.selectedKey === undefined)\n    ) {\n      triggerState.close();\n    }\n\n    // Clear focused key when input value changes.\n    if (inputValue !== lastValue.current) {\n      selectionManager.setFocusedKey(null);\n\n      // Set selectedKey to null when the user clears the input.\n      // If controlled, this is the application developer's responsibility.\n      if (inputValue === '' && (props.inputValue === undefined || props.selectedKey === undefined)) {\n        setSelectedKey(null);\n      }\n    }\n\n    // If it is the intial render and inputValue isn't controlled nor has an intial value, set input to match current selected key if any\n    if (isInitialRender.current && (props.inputValue === undefined && props.defaultInputValue === undefined)) {\n      resetInputValue();\n    }\n\n    // If the selectedKey changed, update the input value.\n    // Do nothing if both inputValue and selectedKey are controlled.\n    // In this case, it's the user's responsibility to update inputValue in onSelectionChange. In addition, we preserve the defaultInputValue\n    // on initial render, even if it doesn't match the selected item's text.\n    if (\n      selectedKey !== lastSelectedKey.current &&\n      (props.inputValue === undefined || props.selectedKey === undefined)\n    ) {\n      resetInputValue();\n    } else {\n      lastValue.current = inputValue;\n    }\n\n    isInitialRender.current = false;\n    lastSelectedKey.current = selectedKey;\n  });\n\n  useEffect(() => {\n    // Reset focused key when the menu closes\n    if (!triggerState.isOpen) {\n      selectionManager.setFocusedKey(null);\n    }\n  }, [triggerState.isOpen, selectionManager]);\n\n  let commitCustomValue = () => {\n    let shouldClose = false;\n    lastSelectedKey.current = null;\n    setSelectedKey(null);\n\n    // If previous key was already null, need to manually call onSelectionChange since it won't be triggered by a setSelectedKey call\n    // This allows the application to control whether or not to close the menu on custom value commit\n    if (selectedKey === null && props.onSelectionChange) {\n      props.onSelectionChange(null);\n    }\n\n    // Should close menu ourselves if component open state or selected key is uncontrolled and therefore won't be closed by a user defined event handler\n    shouldClose = props.isOpen == null || props.selectedKey === undefined;\n\n\n    // Close if no other event will be fired. Otherwise, allow the\n    // application to control this based on that event.\n    if (shouldClose) {\n      triggerState.close();\n    }\n  };\n\n  let commit = () => {\n    if (triggerState.isOpen && selectionManager.focusedKey != null) {\n      // Reset inputValue and close menu here if the selected key is already the focused key. Otherwise\n      // fire onSelectionChange to allow the application to control the closing.\n      if (selectedKey === selectionManager.focusedKey) {\n        resetInputValue();\n        triggerState.close();\n      } else {\n        setSelectedKey(selectionManager.focusedKey);\n      }\n    } else if (allowsCustomValue) {\n      commitCustomValue();\n    }\n  };\n\n  let setFocused = (isFocused: boolean) => {\n    if (isFocused) {\n      if (menuTrigger === 'focus') {\n        open();\n      }\n    } else if (shouldCloseOnBlur) {\n      let itemText = collection.getItem(selectedKey)?.textValue ?? '';\n      if (allowsCustomValue && inputValue !== itemText) {\n        commitCustomValue();\n      } else {\n        resetInputValue();\n        // Close menu if blurring away from the combobox\n        // Specifically handles case where user clicks away from the field\n        triggerState.close();\n      }\n    }\n\n    setFocusedState(isFocused);\n  };\n\n  return {\n    ...triggerState,\n    toggle,\n    open,\n    selectionManager,\n    selectedKey,\n    setSelectedKey,\n    disabledKeys,\n    isFocused,\n    setFocused,\n    selectedItem,\n    collection: filteredCollection,\n    inputValue,\n    setInputValue,\n    commit\n  };\n}\n\nfunction filterCollection<T extends object>(collection: Collection<Node<T>>, inputValue: string, filter: FilterFn): Collection<Node<T>> {\n  return new ListCollection(filterNodes(collection, inputValue, filter));\n}\n\nfunction filterNodes<T>(nodes: Iterable<Node<T>>, inputValue: string, filter: FilterFn): Iterable<Node<T>> {\n  let filteredNode = [];\n  for (let node of nodes) {\n    if (node.type === 'section' && node.hasChildNodes) {\n      let filtered = filterNodes(node.childNodes, inputValue, filter);\n      if ([...filtered].length > 0) {\n        filteredNode.push({...node, childNodes: filtered});\n      }\n    } else if (node.type !== 'section' && filter(node.textValue, inputValue)) {\n      filteredNode.push(node);\n    }\n  }\n  return filteredNode;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}