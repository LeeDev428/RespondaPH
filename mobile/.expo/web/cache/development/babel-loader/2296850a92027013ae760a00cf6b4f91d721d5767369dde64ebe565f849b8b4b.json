{"ast":null,"code":"var _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar $625cf83917e112ad$exports = require(\"./utils.main.js\");\nvar $cR3F8$reactariautils = require(\"@react-aria/utils\");\nvar $cR3F8$react = require(\"react\");\nvar $cR3F8$reactariassr = require(\"@react-aria/ssr\");\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n$parcel$export(module.exports, \"addWindowFocusTracking\", function () {\n  return $e77252a287ef94ab$export$2f1888112f558a7d;\n});\n$parcel$export(module.exports, \"isFocusVisible\", function () {\n  return $e77252a287ef94ab$export$b9b3dfddab17db27;\n});\n$parcel$export(module.exports, \"getInteractionModality\", function () {\n  return $e77252a287ef94ab$export$630ff653c5ada6a9;\n});\n$parcel$export(module.exports, \"setInteractionModality\", function () {\n  return $e77252a287ef94ab$export$8397ddfc504fdb9a;\n});\n$parcel$export(module.exports, \"useInteractionModality\", function () {\n  return $e77252a287ef94ab$export$98e20ec92f614cfe;\n});\n$parcel$export(module.exports, \"useFocusVisible\", function () {\n  return $e77252a287ef94ab$export$ffd9e5021c1fb2d6;\n});\n$parcel$export(module.exports, \"useFocusVisibleListener\", function () {\n  return $e77252a287ef94ab$export$ec71b4b83ac08ec3;\n});\nvar $e77252a287ef94ab$var$currentModality = null;\nvar $e77252a287ef94ab$var$changeHandlers = new Set();\nvar $e77252a287ef94ab$export$d90243b58daecda7 = new Map();\nvar $e77252a287ef94ab$var$hasEventBeforeFocus = false;\nvar $e77252a287ef94ab$var$hasBlurredWindowRecently = false;\nvar $e77252a287ef94ab$var$FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\nfunction $e77252a287ef94ab$var$triggerChangeHandlers(modality, e) {\n  for (var handler of $e77252a287ef94ab$var$changeHandlers) handler(modality, e);\n}\nfunction $e77252a287ef94ab$var$isValidKey(e) {\n  return !(e.metaKey || !(0, $cR3F8$reactariautils.isMac)() && e.altKey || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\nfunction $e77252a287ef94ab$var$handleKeyboardEvent(e) {\n  $e77252a287ef94ab$var$hasEventBeforeFocus = true;\n  if ($e77252a287ef94ab$var$isValidKey(e)) {\n    $e77252a287ef94ab$var$currentModality = 'keyboard';\n    $e77252a287ef94ab$var$triggerChangeHandlers('keyboard', e);\n  }\n}\nfunction $e77252a287ef94ab$var$handlePointerEvent(e) {\n  $e77252a287ef94ab$var$currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    $e77252a287ef94ab$var$hasEventBeforeFocus = true;\n    $e77252a287ef94ab$var$triggerChangeHandlers('pointer', e);\n  }\n}\nfunction $e77252a287ef94ab$var$handleClickEvent(e) {\n  if ((0, $cR3F8$reactariautils.isVirtualClick)(e)) {\n    $e77252a287ef94ab$var$hasEventBeforeFocus = true;\n    $e77252a287ef94ab$var$currentModality = 'virtual';\n  }\n}\nfunction $e77252a287ef94ab$var$handleFocusEvent(e) {\n  if (e.target === window || e.target === document || (0, $625cf83917e112ad$exports.ignoreFocusEvent) || !e.isTrusted) return;\n  if (!$e77252a287ef94ab$var$hasEventBeforeFocus && !$e77252a287ef94ab$var$hasBlurredWindowRecently) {\n    $e77252a287ef94ab$var$currentModality = 'virtual';\n    $e77252a287ef94ab$var$triggerChangeHandlers('virtual', e);\n  }\n  $e77252a287ef94ab$var$hasEventBeforeFocus = false;\n  $e77252a287ef94ab$var$hasBlurredWindowRecently = false;\n}\nfunction $e77252a287ef94ab$var$handleWindowBlur() {\n  if (0, $625cf83917e112ad$exports.ignoreFocusEvent) return;\n  $e77252a287ef94ab$var$hasEventBeforeFocus = false;\n  $e77252a287ef94ab$var$hasBlurredWindowRecently = true;\n}\nfunction $e77252a287ef94ab$var$setupGlobalFocusEvents(element) {\n  if (typeof window === 'undefined' || typeof document === 'undefined' || $e77252a287ef94ab$export$d90243b58daecda7.get((0, $cR3F8$reactariautils.getOwnerWindow)(element))) return;\n  var windowObject = (0, $cR3F8$reactariautils.getOwnerWindow)(element);\n  var documentObject = (0, $cR3F8$reactariautils.getOwnerDocument)(element);\n  var focus = windowObject.HTMLElement.prototype.focus;\n  windowObject.HTMLElement.prototype.focus = function () {\n    $e77252a287ef94ab$var$hasEventBeforeFocus = true;\n    focus.apply(this, arguments);\n  };\n  documentObject.addEventListener('keydown', $e77252a287ef94ab$var$handleKeyboardEvent, true);\n  documentObject.addEventListener('keyup', $e77252a287ef94ab$var$handleKeyboardEvent, true);\n  documentObject.addEventListener('click', $e77252a287ef94ab$var$handleClickEvent, true);\n  windowObject.addEventListener('focus', $e77252a287ef94ab$var$handleFocusEvent, true);\n  windowObject.addEventListener('blur', $e77252a287ef94ab$var$handleWindowBlur, false);\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.addEventListener('pointerdown', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.addEventListener('pointermove', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.addEventListener('pointerup', $e77252a287ef94ab$var$handlePointerEvent, true);\n  } else if (process.env.NODE_ENV === 'test') {\n    documentObject.addEventListener('mousedown', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.addEventListener('mousemove', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.addEventListener('mouseup', $e77252a287ef94ab$var$handlePointerEvent, true);\n  }\n  windowObject.addEventListener('beforeunload', function () {\n    $e77252a287ef94ab$var$tearDownWindowFocusTracking(element);\n  }, {\n    once: true\n  });\n  $e77252a287ef94ab$export$d90243b58daecda7.set(windowObject, {\n    focus: focus\n  });\n}\nvar $e77252a287ef94ab$var$tearDownWindowFocusTracking = function $e77252a287ef94ab$var$tearDownWindowFocusTracking(element, loadListener) {\n  var windowObject = (0, $cR3F8$reactariautils.getOwnerWindow)(element);\n  var documentObject = (0, $cR3F8$reactariautils.getOwnerDocument)(element);\n  if (loadListener) documentObject.removeEventListener('DOMContentLoaded', loadListener);\n  if (!$e77252a287ef94ab$export$d90243b58daecda7.has(windowObject)) return;\n  windowObject.HTMLElement.prototype.focus = $e77252a287ef94ab$export$d90243b58daecda7.get(windowObject).focus;\n  documentObject.removeEventListener('keydown', $e77252a287ef94ab$var$handleKeyboardEvent, true);\n  documentObject.removeEventListener('keyup', $e77252a287ef94ab$var$handleKeyboardEvent, true);\n  documentObject.removeEventListener('click', $e77252a287ef94ab$var$handleClickEvent, true);\n  windowObject.removeEventListener('focus', $e77252a287ef94ab$var$handleFocusEvent, true);\n  windowObject.removeEventListener('blur', $e77252a287ef94ab$var$handleWindowBlur, false);\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.removeEventListener('pointerdown', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.removeEventListener('pointermove', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.removeEventListener('pointerup', $e77252a287ef94ab$var$handlePointerEvent, true);\n  } else if (process.env.NODE_ENV === 'test') {\n    documentObject.removeEventListener('mousedown', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.removeEventListener('mousemove', $e77252a287ef94ab$var$handlePointerEvent, true);\n    documentObject.removeEventListener('mouseup', $e77252a287ef94ab$var$handlePointerEvent, true);\n  }\n  $e77252a287ef94ab$export$d90243b58daecda7.delete(windowObject);\n};\nfunction $e77252a287ef94ab$export$2f1888112f558a7d(element) {\n  var documentObject = (0, $cR3F8$reactariautils.getOwnerDocument)(element);\n  var loadListener;\n  if (documentObject.readyState !== 'loading') $e77252a287ef94ab$var$setupGlobalFocusEvents(element);else {\n    loadListener = function loadListener() {\n      $e77252a287ef94ab$var$setupGlobalFocusEvents(element);\n    };\n    documentObject.addEventListener('DOMContentLoaded', loadListener);\n  }\n  return function () {\n    return $e77252a287ef94ab$var$tearDownWindowFocusTracking(element, loadListener);\n  };\n}\nif (typeof document !== 'undefined') $e77252a287ef94ab$export$2f1888112f558a7d();\nfunction $e77252a287ef94ab$export$b9b3dfddab17db27() {\n  return $e77252a287ef94ab$var$currentModality !== 'pointer';\n}\nfunction $e77252a287ef94ab$export$630ff653c5ada6a9() {\n  return $e77252a287ef94ab$var$currentModality;\n}\nfunction $e77252a287ef94ab$export$8397ddfc504fdb9a(modality) {\n  $e77252a287ef94ab$var$currentModality = modality;\n  $e77252a287ef94ab$var$triggerChangeHandlers(modality, null);\n}\nfunction $e77252a287ef94ab$export$98e20ec92f614cfe() {\n  $e77252a287ef94ab$var$setupGlobalFocusEvents();\n  var _ref = (0, $cR3F8$react.useState)($e77252a287ef94ab$var$currentModality),\n    _ref2 = _slicedToArray(_ref, 2),\n    modality = _ref2[0],\n    setModality = _ref2[1];\n  (0, $cR3F8$react.useEffect)(function () {\n    var handler = function handler() {\n      setModality($e77252a287ef94ab$var$currentModality);\n    };\n    $e77252a287ef94ab$var$changeHandlers.add(handler);\n    return function () {\n      $e77252a287ef94ab$var$changeHandlers.delete(handler);\n    };\n  }, []);\n  return (0, $cR3F8$reactariassr.useIsSSR)() ? null : modality;\n}\nvar $e77252a287ef94ab$var$nonTextInputTypes = new Set(['checkbox', 'radio', 'range', 'color', 'file', 'image', 'button', 'submit', 'reset']);\nfunction $e77252a287ef94ab$var$isKeyboardFocusEvent(isTextInput, modality, e) {\n  var document1 = (0, $cR3F8$reactariautils.getOwnerDocument)(e === null || e === void 0 ? void 0 : e.target);\n  var IHTMLInputElement = typeof window !== 'undefined' ? (0, $cR3F8$reactariautils.getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLInputElement : HTMLInputElement;\n  var IHTMLTextAreaElement = typeof window !== 'undefined' ? (0, $cR3F8$reactariautils.getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLTextAreaElement : HTMLTextAreaElement;\n  var IHTMLElement = typeof window !== 'undefined' ? (0, $cR3F8$reactariautils.getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).HTMLElement : HTMLElement;\n  var IKeyboardEvent = typeof window !== 'undefined' ? (0, $cR3F8$reactariautils.getOwnerWindow)(e === null || e === void 0 ? void 0 : e.target).KeyboardEvent : KeyboardEvent;\n  isTextInput = isTextInput || document1.activeElement instanceof IHTMLInputElement && !$e77252a287ef94ab$var$nonTextInputTypes.has(document1.activeElement.type) || document1.activeElement instanceof IHTMLTextAreaElement || document1.activeElement instanceof IHTMLElement && document1.activeElement.isContentEditable;\n  return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !$e77252a287ef94ab$var$FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\nfunction $e77252a287ef94ab$export$ffd9e5021c1fb2d6() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var isTextInput = props.isTextInput,\n    autoFocus = props.autoFocus;\n  var _ref3 = (0, $cR3F8$react.useState)(autoFocus || $e77252a287ef94ab$export$b9b3dfddab17db27()),\n    _ref4 = _slicedToArray(_ref3, 2),\n    isFocusVisibleState = _ref4[0],\n    setFocusVisible = _ref4[1];\n  $e77252a287ef94ab$export$ec71b4b83ac08ec3(function (isFocusVisible) {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {\n    isTextInput: isTextInput\n  });\n  return {\n    isFocusVisible: isFocusVisibleState\n  };\n}\nfunction $e77252a287ef94ab$export$ec71b4b83ac08ec3(fn, deps, opts) {\n  $e77252a287ef94ab$var$setupGlobalFocusEvents();\n  (0, $cR3F8$react.useEffect)(function () {\n    var handler = function handler(modality, e) {\n      if (!$e77252a287ef94ab$var$isKeyboardFocusEvent(!!(opts === null || opts === void 0 ? void 0 : opts.isTextInput), modality, e)) return;\n      fn($e77252a287ef94ab$export$b9b3dfddab17db27());\n    };\n    $e77252a287ef94ab$var$changeHandlers.add(handler);\n    return function () {\n      $e77252a287ef94ab$var$changeHandlers.delete(handler);\n    };\n  }, deps);\n}","map":{"version":3,"names":["$e77252a287ef94ab$var$currentModality","$e77252a287ef94ab$var$changeHandlers","Set","$e77252a287ef94ab$export$d90243b58daecda7","Map","$e77252a287ef94ab$var$hasEventBeforeFocus","$e77252a287ef94ab$var$hasBlurredWindowRecently","$e77252a287ef94ab$var$FOCUS_VISIBLE_INPUT_KEYS","Tab","Escape","$e77252a287ef94ab$var$triggerChangeHandlers","modality","e","handler","$e77252a287ef94ab$var$isValidKey","metaKey","$cR3F8$reactariautils","isMac","altKey","ctrlKey","key","$e77252a287ef94ab$var$handleKeyboardEvent","$e77252a287ef94ab$var$handlePointerEvent","type","$e77252a287ef94ab$var$handleClickEvent","isVirtualClick","$e77252a287ef94ab$var$handleFocusEvent","target","window","document","$625cf83917e112ad$exports","ignoreFocusEvent","isTrusted","$e77252a287ef94ab$var$handleWindowBlur","$e77252a287ef94ab$var$setupGlobalFocusEvents","element","get","getOwnerWindow","windowObject","documentObject","getOwnerDocument","focus","HTMLElement","prototype","apply","arguments","addEventListener","PointerEvent","process","env","NODE_ENV","$e77252a287ef94ab$var$tearDownWindowFocusTracking","once","set","loadListener","removeEventListener","has","delete","$e77252a287ef94ab$export$2f1888112f558a7d","readyState","$e77252a287ef94ab$export$b9b3dfddab17db27","$e77252a287ef94ab$export$630ff653c5ada6a9","$e77252a287ef94ab$export$8397ddfc504fdb9a","$e77252a287ef94ab$export$98e20ec92f614cfe","_ref","$cR3F8$react","useState","_ref2","_slicedToArray","setModality","useEffect","add","$cR3F8$reactariassr","useIsSSR","$e77252a287ef94ab$var$nonTextInputTypes","$e77252a287ef94ab$var$isKeyboardFocusEvent","isTextInput","document1","IHTMLInputElement","HTMLInputElement","IHTMLTextAreaElement","HTMLTextAreaElement","IHTMLElement","IKeyboardEvent","KeyboardEvent","activeElement","isContentEditable","$e77252a287ef94ab$export$ffd9e5021c1fb2d6","props","length","undefined","autoFocus","_ref3","_ref4","isFocusVisibleState","setFocusVisible","$e77252a287ef94ab$export$ec71b4b83ac08ec3","isFocusVisible","fn","deps","opts"],"sources":["D:\\Programming\\Systems\\Hybrid-Systems\\RespondaPH\\mobile\\node_modules\\@react-aria\\interactions\\dist\\packages\\@react-aria\\interactions\\src\\useFocusVisible.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\n// Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\nimport {getOwnerDocument, getOwnerWindow, isMac, isVirtualClick} from '@react-aria/utils';\nimport {ignoreFocusEvent} from './utils';\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\n\nexport type Modality = 'keyboard' | 'pointer' | 'virtual';\ntype HandlerEvent = PointerEvent | MouseEvent | KeyboardEvent | FocusEvent | null;\ntype Handler = (modality: Modality, e: HandlerEvent) => void;\nexport type FocusVisibleHandler = (isFocusVisible: boolean) => void;\nexport interface FocusVisibleProps {\n  /** Whether the element is a text input. */\n  isTextInput?: boolean,\n  /** Whether the element will be auto focused. */\n  autoFocus?: boolean\n}\n\nexport interface FocusVisibleResult {\n  /** Whether keyboard focus is visible globally. */\n  isFocusVisible: boolean\n}\n\nlet currentModality: null | Modality = null;\nlet changeHandlers = new Set<Handler>();\ninterface GlobalListenerData {\n  focus: () => void\n}\nexport let hasSetupGlobalListeners: Map<Window, GlobalListenerData> = new Map<Window, GlobalListenerData>(); // We use a map here to support setting event listeners across multiple document objects.\nlet hasEventBeforeFocus = false;\nlet hasBlurredWindowRecently = false;\n\n// Only Tab or Esc keys will make focus visible on text input elements\nconst FOCUS_VISIBLE_INPUT_KEYS = {\n  Tab: true,\n  Escape: true\n};\n\nfunction triggerChangeHandlers(modality: Modality, e: HandlerEvent) {\n  for (let handler of changeHandlers) {\n    handler(modality, e);\n  }\n}\n\n/**\n * Helper function to determine if a KeyboardEvent is unmodified and could make keyboard focus styles visible.\n */\nfunction isValidKey(e: KeyboardEvent) {\n  // Control and Shift keys trigger when navigating back to the tab with keyboard.\n  return !(e.metaKey || (!isMac() && e.altKey) || e.ctrlKey || e.key === 'Control' || e.key === 'Shift' || e.key === 'Meta');\n}\n\n\nfunction handleKeyboardEvent(e: KeyboardEvent) {\n  hasEventBeforeFocus = true;\n  if (isValidKey(e)) {\n    currentModality = 'keyboard';\n    triggerChangeHandlers('keyboard', e);\n  }\n}\n\nfunction handlePointerEvent(e: PointerEvent | MouseEvent) {\n  currentModality = 'pointer';\n  if (e.type === 'mousedown' || e.type === 'pointerdown') {\n    hasEventBeforeFocus = true;\n    triggerChangeHandlers('pointer', e);\n  }\n}\n\nfunction handleClickEvent(e: MouseEvent) {\n  if (isVirtualClick(e)) {\n    hasEventBeforeFocus = true;\n    currentModality = 'virtual';\n  }\n}\n\nfunction handleFocusEvent(e: FocusEvent) {\n  // Firefox fires two extra focus events when the user first clicks into an iframe:\n  // first on the window, then on the document. We ignore these events so they don't\n  // cause keyboard focus rings to appear.\n  if (e.target === window || e.target === document || ignoreFocusEvent || !e.isTrusted) {\n    return;\n  }\n\n  // If a focus event occurs without a preceding keyboard or pointer event, switch to virtual modality.\n  // This occurs, for example, when navigating a form with the next/previous buttons on iOS.\n  if (!hasEventBeforeFocus && !hasBlurredWindowRecently) {\n    currentModality = 'virtual';\n    triggerChangeHandlers('virtual', e);\n  }\n\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = false;\n}\n\nfunction handleWindowBlur() {\n  if (ignoreFocusEvent) {\n    return;\n  }\n\n  // When the window is blurred, reset state. This is necessary when tabbing out of the window,\n  // for example, since a subsequent focus event won't be fired.\n  hasEventBeforeFocus = false;\n  hasBlurredWindowRecently = true;\n}\n\n/**\n * Setup global event listeners to control when keyboard focus style should be visible.\n */\nfunction setupGlobalFocusEvents(element?: HTMLElement | null) {\n  if (typeof window === 'undefined' || typeof document === 'undefined' || hasSetupGlobalListeners.get(getOwnerWindow(element))) {\n    return;\n  }\n\n  const windowObject = getOwnerWindow(element);\n  const documentObject = getOwnerDocument(element);\n\n  // Programmatic focus() calls shouldn't affect the current input modality.\n  // However, we need to detect other cases when a focus event occurs without\n  // a preceding user event (e.g. screen reader focus). Overriding the focus\n  // method on HTMLElement.prototype is a bit hacky, but works.\n  let focus = windowObject.HTMLElement.prototype.focus;\n  windowObject.HTMLElement.prototype.focus = function () {\n    hasEventBeforeFocus = true;\n    focus.apply(this, arguments as unknown as [options?: FocusOptions | undefined]);\n  };\n\n  documentObject.addEventListener('keydown', handleKeyboardEvent, true);\n  documentObject.addEventListener('keyup', handleKeyboardEvent, true);\n  documentObject.addEventListener('click', handleClickEvent, true);\n\n  // Register focus events on the window so they are sure to happen\n  // before React's event listeners (registered on the document).\n  windowObject.addEventListener('focus', handleFocusEvent, true);\n  windowObject.addEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.addEventListener('pointerdown', handlePointerEvent, true);\n    documentObject.addEventListener('pointermove', handlePointerEvent, true);\n    documentObject.addEventListener('pointerup', handlePointerEvent, true);\n  } else if (process.env.NODE_ENV === 'test') {\n    documentObject.addEventListener('mousedown', handlePointerEvent, true);\n    documentObject.addEventListener('mousemove', handlePointerEvent, true);\n    documentObject.addEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  // Add unmount handler\n  windowObject.addEventListener('beforeunload', () => {\n    tearDownWindowFocusTracking(element);\n  }, {once: true});\n\n  hasSetupGlobalListeners.set(windowObject, {focus});\n}\n\nconst tearDownWindowFocusTracking = (element, loadListener?: () => void) => {\n  const windowObject = getOwnerWindow(element);\n  const documentObject = getOwnerDocument(element);\n  if (loadListener) {\n    documentObject.removeEventListener('DOMContentLoaded', loadListener);\n  }\n  if (!hasSetupGlobalListeners.has(windowObject)) {\n    return;\n  }\n  windowObject.HTMLElement.prototype.focus = hasSetupGlobalListeners.get(windowObject)!.focus;\n\n  documentObject.removeEventListener('keydown', handleKeyboardEvent, true);\n  documentObject.removeEventListener('keyup', handleKeyboardEvent, true);\n  documentObject.removeEventListener('click', handleClickEvent, true);\n\n  windowObject.removeEventListener('focus', handleFocusEvent, true);\n  windowObject.removeEventListener('blur', handleWindowBlur, false);\n\n  if (typeof PointerEvent !== 'undefined') {\n    documentObject.removeEventListener('pointerdown', handlePointerEvent, true);\n    documentObject.removeEventListener('pointermove', handlePointerEvent, true);\n    documentObject.removeEventListener('pointerup', handlePointerEvent, true);\n  } else if (process.env.NODE_ENV === 'test') {\n    documentObject.removeEventListener('mousedown', handlePointerEvent, true);\n    documentObject.removeEventListener('mousemove', handlePointerEvent, true);\n    documentObject.removeEventListener('mouseup', handlePointerEvent, true);\n  }\n\n  hasSetupGlobalListeners.delete(windowObject);\n};\n\n/**\n * EXPERIMENTAL\n * Adds a window (i.e. iframe) to the list of windows that are being tracked for focus visible.\n *\n * Sometimes apps render portions of their tree into an iframe. In this case, we cannot accurately track if the focus\n * is visible because we cannot see interactions inside the iframe. If you have this in your application's architecture,\n * then this function will attach event listeners inside the iframe. You should call `addWindowFocusTracking` with an\n * element from inside the window you wish to add. We'll retrieve the relevant elements based on that.\n * Note, you do not need to call this for the default window, as we call it for you.\n *\n * When you are ready to stop listening, but you do not wish to unmount the iframe, you may call the cleanup function\n * returned by `addWindowFocusTracking`. Otherwise, when you unmount the iframe, all listeners and state will be cleaned\n * up automatically for you.\n *\n * @param element @default document.body - The element provided will be used to get the window to add.\n * @returns A function to remove the event listeners and cleanup the state.\n */\nexport function addWindowFocusTracking(element?: HTMLElement | null): () => void {\n  const documentObject = getOwnerDocument(element);\n  let loadListener;\n  if (documentObject.readyState !== 'loading') {\n    setupGlobalFocusEvents(element);\n  } else {\n    loadListener = () => {\n      setupGlobalFocusEvents(element);\n    };\n    documentObject.addEventListener('DOMContentLoaded', loadListener);\n  }\n\n  return () => tearDownWindowFocusTracking(element, loadListener);\n}\n\n// Server-side rendering does not have the document object defined\n// eslint-disable-next-line no-restricted-globals\nif (typeof document !== 'undefined') {\n  addWindowFocusTracking();\n}\n\n/**\n * If true, keyboard focus is visible.\n */\nexport function isFocusVisible(): boolean {\n  return currentModality !== 'pointer';\n}\n\nexport function getInteractionModality(): Modality | null {\n  return currentModality;\n}\n\nexport function setInteractionModality(modality: Modality): void {\n  currentModality = modality;\n  triggerChangeHandlers(modality, null);\n}\n\n/**\n * Keeps state of the current modality.\n */\nexport function useInteractionModality(): Modality | null {\n  setupGlobalFocusEvents();\n\n  let [modality, setModality] = useState(currentModality);\n  useEffect(() => {\n    let handler = () => {\n      setModality(currentModality);\n    };\n\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  }, []);\n\n  return useIsSSR() ? null : modality;\n}\n\nconst nonTextInputTypes = new Set([\n  'checkbox',\n  'radio',\n  'range',\n  'color',\n  'file',\n  'image',\n  'button',\n  'submit',\n  'reset'\n]);\n\n/**\n * If this is attached to text input component, return if the event is a focus event (Tab/Escape keys pressed) so that\n * focus visible style can be properly set.\n */\nfunction isKeyboardFocusEvent(isTextInput: boolean, modality: Modality, e: HandlerEvent) {\n  let document = getOwnerDocument(e?.target as Element);\n  const IHTMLInputElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLInputElement : HTMLInputElement;\n  const IHTMLTextAreaElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLTextAreaElement : HTMLTextAreaElement;\n  const IHTMLElement = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).HTMLElement : HTMLElement;\n  const IKeyboardEvent = typeof window !== 'undefined' ? getOwnerWindow(e?.target as Element).KeyboardEvent : KeyboardEvent;\n\n  // For keyboard events that occur on a non-input element that will move focus into input element (aka ArrowLeft going from Datepicker button to the main input group)\n  // we need to rely on the user passing isTextInput into here. This way we can skip toggling focus visiblity for said input element\n  isTextInput = isTextInput ||\n    (document.activeElement instanceof IHTMLInputElement && !nonTextInputTypes.has(document.activeElement.type)) ||\n    document.activeElement instanceof IHTMLTextAreaElement ||\n    (document.activeElement instanceof IHTMLElement && document.activeElement.isContentEditable);\n  return !(isTextInput && modality === 'keyboard' && e instanceof IKeyboardEvent && !FOCUS_VISIBLE_INPUT_KEYS[e.key]);\n}\n\n/**\n * Manages focus visible state for the page, and subscribes individual components for updates.\n */\nexport function useFocusVisible(props: FocusVisibleProps = {}): FocusVisibleResult {\n  let {isTextInput, autoFocus} = props;\n  let [isFocusVisibleState, setFocusVisible] = useState(autoFocus || isFocusVisible());\n  useFocusVisibleListener((isFocusVisible) => {\n    setFocusVisible(isFocusVisible);\n  }, [isTextInput], {isTextInput});\n\n  return {isFocusVisible: isFocusVisibleState};\n}\n\n/**\n * Listens for trigger change and reports if focus is visible (i.e., modality is not pointer).\n */\nexport function useFocusVisibleListener(fn: FocusVisibleHandler, deps: ReadonlyArray<any>, opts?: {isTextInput?: boolean}): void {\n  setupGlobalFocusEvents();\n\n  useEffect(() => {\n    let handler = (modality: Modality, e: HandlerEvent) => {\n      // We want to early return for any keyboard events that occur inside text inputs EXCEPT for Tab and Escape\n      if (!isKeyboardFocusEvent(!!(opts?.isTextInput), modality, e)) {\n        return;\n      }\n      fn(isFocusVisible());\n    };\n    changeHandlers.add(handler);\n    return () => {\n      changeHandlers.delete(handler);\n    };\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}