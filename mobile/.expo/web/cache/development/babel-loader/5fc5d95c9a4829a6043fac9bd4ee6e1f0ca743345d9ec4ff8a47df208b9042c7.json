{"ast":null,"code":"var _toConsumableArray = require(\"@babel/runtime/helpers/toConsumableArray\");\nvar $c9aa5a224613c979$exports = require(\"./ListCollection.main.js\");\nvar $5RsKl$reactstatelyselection = require(\"@react-stately/selection\");\nvar $5RsKl$react = require(\"react\");\nvar $5RsKl$reactstatelycollections = require(\"@react-stately/collections\");\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n$parcel$export(module.exports, \"useListState\", function () {\n  return $5450691d3629f6ea$export$2f645645f7bca764;\n});\n$parcel$export(module.exports, \"UNSTABLE_useFilteredListState\", function () {\n  return $5450691d3629f6ea$export$ba9d38c0f1bf2b36;\n});\nfunction $5450691d3629f6ea$export$2f645645f7bca764(props) {\n  var filter = props.filter,\n    layoutDelegate = props.layoutDelegate;\n  var selectionState = (0, $5RsKl$reactstatelyselection.useMultipleSelectionState)(props);\n  var disabledKeys = (0, $5RsKl$react.useMemo)(function () {\n    return props.disabledKeys ? new Set(props.disabledKeys) : new Set();\n  }, [props.disabledKeys]);\n  var factory = (0, $5RsKl$react.useCallback)(function (nodes) {\n    return filter ? new (0, $c9aa5a224613c979$exports.ListCollection)(filter(nodes)) : new (0, $c9aa5a224613c979$exports.ListCollection)(nodes);\n  }, [filter]);\n  var context = (0, $5RsKl$react.useMemo)(function () {\n    return {\n      suppressTextValueWarning: props.suppressTextValueWarning\n    };\n  }, [props.suppressTextValueWarning]);\n  var collection = (0, $5RsKl$reactstatelycollections.useCollection)(props, factory, context);\n  var selectionManager = (0, $5RsKl$react.useMemo)(function () {\n    return new (0, $5RsKl$reactstatelyselection.SelectionManager)(collection, selectionState, {\n      layoutDelegate: layoutDelegate\n    });\n  }, [collection, selectionState, layoutDelegate]);\n  $5450691d3629f6ea$var$useFocusedKeyReset(collection, selectionManager);\n  return {\n    collection: collection,\n    disabledKeys: disabledKeys,\n    selectionManager: selectionManager\n  };\n}\nfunction $5450691d3629f6ea$export$ba9d38c0f1bf2b36(state, filterFn) {\n  var collection = (0, $5RsKl$react.useMemo)(function () {\n    return filterFn ? state.collection.filter(filterFn) : state.collection;\n  }, [state.collection, filterFn]);\n  var selectionManager = state.selectionManager.withCollection(collection);\n  $5450691d3629f6ea$var$useFocusedKeyReset(collection, selectionManager);\n  return {\n    collection: collection,\n    selectionManager: selectionManager,\n    disabledKeys: state.disabledKeys\n  };\n}\nfunction $5450691d3629f6ea$var$useFocusedKeyReset(collection, selectionManager) {\n  var cachedCollection = (0, $5RsKl$react.useRef)(null);\n  (0, $5RsKl$react.useEffect)(function () {\n    if (selectionManager.focusedKey != null && !collection.getItem(selectionManager.focusedKey) && cachedCollection.current) {\n      var startItem = cachedCollection.current.getItem(selectionManager.focusedKey);\n      var cachedItemNodes = _toConsumableArray(cachedCollection.current.getKeys()).map(function (key) {\n        var itemNode = cachedCollection.current.getItem(key);\n        return (itemNode === null || itemNode === void 0 ? void 0 : itemNode.type) === 'item' ? itemNode : null;\n      }).filter(function (node) {\n        return node !== null;\n      });\n      var itemNodes = _toConsumableArray(collection.getKeys()).map(function (key) {\n        var itemNode = collection.getItem(key);\n        return (itemNode === null || itemNode === void 0 ? void 0 : itemNode.type) === 'item' ? itemNode : null;\n      }).filter(function (node) {\n        return node !== null;\n      });\n      var _cachedItemNodes_length, _itemNodes_length;\n      var diff = ((_cachedItemNodes_length = cachedItemNodes === null || cachedItemNodes === void 0 ? void 0 : cachedItemNodes.length) !== null && _cachedItemNodes_length !== void 0 ? _cachedItemNodes_length : 0) - ((_itemNodes_length = itemNodes === null || itemNodes === void 0 ? void 0 : itemNodes.length) !== null && _itemNodes_length !== void 0 ? _itemNodes_length : 0);\n      var _startItem_index, _startItem_index1, _itemNodes_length1;\n      var index = Math.min(diff > 1 ? Math.max(((_startItem_index = startItem === null || startItem === void 0 ? void 0 : startItem.index) !== null && _startItem_index !== void 0 ? _startItem_index : 0) - diff + 1, 0) : (_startItem_index1 = startItem === null || startItem === void 0 ? void 0 : startItem.index) !== null && _startItem_index1 !== void 0 ? _startItem_index1 : 0, ((_itemNodes_length1 = itemNodes === null || itemNodes === void 0 ? void 0 : itemNodes.length) !== null && _itemNodes_length1 !== void 0 ? _itemNodes_length1 : 0) - 1);\n      var newNode = null;\n      var isReverseSearching = false;\n      while (index >= 0) {\n        if (!selectionManager.isDisabled(itemNodes[index].key)) {\n          newNode = itemNodes[index];\n          break;\n        }\n        if (index < itemNodes.length - 1 && !isReverseSearching) index++;else {\n          isReverseSearching = true;\n          var _startItem_index2, _startItem_index3;\n          if (index > ((_startItem_index2 = startItem === null || startItem === void 0 ? void 0 : startItem.index) !== null && _startItem_index2 !== void 0 ? _startItem_index2 : 0)) index = (_startItem_index3 = startItem === null || startItem === void 0 ? void 0 : startItem.index) !== null && _startItem_index3 !== void 0 ? _startItem_index3 : 0;\n          index--;\n        }\n      }\n      selectionManager.setFocusedKey(newNode ? newNode.key : null);\n    }\n    cachedCollection.current = collection;\n  }, [collection, selectionManager]);\n}","map":{"version":3,"names":["$5450691d3629f6ea$export$2f645645f7bca764","props","filter","layoutDelegate","selectionState","$5RsKl$reactstatelyselection","useMultipleSelectionState","disabledKeys","$5RsKl$react","useMemo","Set","factory","useCallback","nodes","$c9aa5a224613c979$exports","ListCollection","context","suppressTextValueWarning","collection","$5RsKl$reactstatelycollections","useCollection","selectionManager","SelectionManager","$5450691d3629f6ea$var$useFocusedKeyReset","$5450691d3629f6ea$export$ba9d38c0f1bf2b36","state","filterFn","withCollection","cachedCollection","useRef","useEffect","focusedKey","getItem","current","startItem","cachedItemNodes","_toConsumableArray","getKeys","map","key","itemNode","type","node","itemNodes","_cachedItemNodes_length","_itemNodes_length","diff","length","_startItem_index","_startItem_index1","_itemNodes_length1","index","Math","min","max","newNode","isReverseSearching","isDisabled","_startItem_index2","_startItem_index3","setFocusedKey"],"sources":["D:\\Programming\\Systems\\Hybrid-Systems\\RespondaPH\\mobile\\node_modules\\@react-stately\\list\\dist\\packages\\@react-stately\\list\\src\\useListState.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {Collection, CollectionStateBase, Key, LayoutDelegate, Node} from '@react-types/shared';\nimport {ListCollection} from './ListCollection';\nimport {MultipleSelectionStateProps, SelectionManager, useMultipleSelectionState} from '@react-stately/selection';\nimport {useCallback, useEffect, useMemo, useRef} from 'react';\nimport {useCollection} from '@react-stately/collections';\n\nexport interface ListProps<T> extends CollectionStateBase<T>, MultipleSelectionStateProps {\n  /** Filter function to generate a filtered list of nodes. */\n  filter?: (nodes: Iterable<Node<T>>) => Iterable<Node<T>>,\n  /** @private */\n  suppressTextValueWarning?: boolean,\n  /**\n   * A delegate object that provides layout information for items in the collection.\n   * This can be used to override the behavior of shift selection.\n   */\n  layoutDelegate?: LayoutDelegate\n}\n\nexport interface ListState<T> {\n  /** A collection of items in the list. */\n  collection: Collection<Node<T>>,\n\n  /** A set of items that are disabled. */\n  disabledKeys: Set<Key>,\n\n  /** A selection manager to read and update multiple selection state. */\n  selectionManager: SelectionManager\n}\n\n/**\n * Provides state management for list-like components. Handles building a collection\n * of items from props, and manages multiple selection state.\n */\nexport function useListState<T extends object>(props: ListProps<T>): ListState<T>  {\n  let {filter, layoutDelegate} = props;\n\n  let selectionState = useMultipleSelectionState(props);\n  let disabledKeys = useMemo(() =>\n    props.disabledKeys ? new Set(props.disabledKeys) : new Set<Key>()\n  , [props.disabledKeys]);\n\n  let factory = useCallback(nodes => filter ? new ListCollection(filter(nodes)) : new ListCollection(nodes as Iterable<Node<T>>), [filter]);\n  let context = useMemo(() => ({suppressTextValueWarning: props.suppressTextValueWarning}), [props.suppressTextValueWarning]);\n\n  let collection = useCollection(props, factory, context);\n\n  let selectionManager = useMemo(() =>\n    new SelectionManager(collection, selectionState, {layoutDelegate})\n    , [collection, selectionState, layoutDelegate]\n  );\n\n  useFocusedKeyReset(collection, selectionManager);\n\n  return {\n    collection,\n    disabledKeys,\n    selectionManager\n  };\n}\n\n/**\n * Filters a collection using the provided filter function and returns a new ListState.\n */\nexport function UNSTABLE_useFilteredListState<T extends object>(state: ListState<T>, filterFn: ((nodeValue: string, node: Node<T>) => boolean) | null | undefined): ListState<T> {\n  let collection = useMemo(() => filterFn ? state.collection.filter!(filterFn) : state.collection, [state.collection, filterFn]);\n  let selectionManager = state.selectionManager.withCollection(collection);\n  useFocusedKeyReset(collection, selectionManager);\n  return {\n    collection,\n    selectionManager,\n    disabledKeys: state.disabledKeys\n  };\n}\n\nfunction useFocusedKeyReset<T>(collection: Collection<Node<T>>, selectionManager: SelectionManager) {\n  // Reset focused key if that item is deleted from the collection.\n  const cachedCollection = useRef<Collection<Node<T>> | null>(null);\n  useEffect(() => {\n    if (selectionManager.focusedKey != null && !collection.getItem(selectionManager.focusedKey) && cachedCollection.current) {\n      const startItem = cachedCollection.current.getItem(selectionManager.focusedKey);\n      const cachedItemNodes = [...cachedCollection.current.getKeys()].map(\n        key => {\n          const itemNode = cachedCollection.current!.getItem(key);\n          return itemNode?.type === 'item' ? itemNode : null;\n        }\n      ).filter(node => node !== null);\n      const itemNodes = [...collection.getKeys()].map(\n        key => {\n          const itemNode = collection.getItem(key);\n          return itemNode?.type === 'item' ? itemNode : null;\n        }\n      ).filter(node => node !== null);\n      const diff: number = (cachedItemNodes?.length ?? 0) - (itemNodes?.length ?? 0);\n      let index = Math.min(\n        (\n          diff > 1 ?\n          Math.max((startItem?.index ?? 0) - diff + 1, 0) :\n          startItem?.index ?? 0\n        ),\n        (itemNodes?.length ?? 0) - 1);\n      let newNode: Node<T> | null = null;\n      let isReverseSearching = false;\n      while (index >= 0) {\n        if (!selectionManager.isDisabled(itemNodes[index].key)) {\n          newNode = itemNodes[index];\n          break;\n        }\n        // Find next, not disabled item.\n        if (index < itemNodes.length - 1 && !isReverseSearching) {\n          index++;\n        // Otherwise, find previous, not disabled item.\n        } else {\n          isReverseSearching = true;\n          if (index > (startItem?.index ?? 0)) {\n            index = (startItem?.index ?? 0);\n          }\n          index--;\n        }\n      }\n      selectionManager.setFocusedKey(newNode ? newNode.key : null);\n    }\n    cachedCollection.current = collection;\n  }, [collection, selectionManager]);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}