{"ast":null,"code":"var $d1742ec2644a0949$exports = require(\"./intlStrings.main.js\");\nvar $jo7gW$reactariautils = require(\"@react-aria/utils\");\nvar $jo7gW$reactariainteractions = require(\"@react-aria/interactions\");\nvar $jo7gW$reactariai18n = require(\"@react-aria/i18n\");\nvar $jo7gW$reactariaoverlays = require(\"@react-aria/overlays\");\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n$parcel$export(module.exports, \"useMenuTrigger\", function () {\n  return $7211ab9328763fb9$export$dc9c12ed27dd1b49;\n});\nfunction $7211ab9328763fb9$export$dc9c12ed27dd1b49(props, state, ref) {\n  var _props$type = props.type,\n    type = _props$type === void 0 ? 'menu' : _props$type,\n    isDisabled = props.isDisabled,\n    _props$trigger = props.trigger,\n    trigger = _props$trigger === void 0 ? 'press' : _props$trigger;\n  var menuTriggerId = (0, $jo7gW$reactariautils.useId)();\n  var _ref = (0, $jo7gW$reactariaoverlays.useOverlayTrigger)({\n      type: type\n    }, state, ref),\n    triggerProps = _ref.triggerProps,\n    overlayProps = _ref.overlayProps;\n  var onKeyDown = function onKeyDown(e) {\n    if (isDisabled) return;\n    if (trigger === 'longPress' && !e.altKey) return;\n    if (ref && ref.current) switch (e.key) {\n      case 'Enter':\n      case ' ':\n        if (trigger === 'longPress' || e.isDefaultPrevented()) return;\n      case 'ArrowDown':\n        if (!('continuePropagation' in e)) e.stopPropagation();\n        e.preventDefault();\n        state.toggle('first');\n        break;\n      case 'ArrowUp':\n        if (!('continuePropagation' in e)) e.stopPropagation();\n        e.preventDefault();\n        state.toggle('last');\n        break;\n      default:\n        if ('continuePropagation' in e) e.continuePropagation();\n    }\n  };\n  var stringFormatter = (0, $jo7gW$reactariai18n.useLocalizedStringFormatter)((0, $parcel$interopDefault($d1742ec2644a0949$exports)), '@react-aria/menu');\n  var _ref2 = (0, $jo7gW$reactariainteractions.useLongPress)({\n      isDisabled: isDisabled || trigger !== 'longPress',\n      accessibilityDescription: stringFormatter.format('longPressMessage'),\n      onLongPressStart: function onLongPressStart() {\n        state.close();\n      },\n      onLongPress: function onLongPress() {\n        state.open('first');\n      }\n    }),\n    longPressProps = _ref2.longPressProps;\n  var pressProps = {\n    preventFocusOnPress: true,\n    onPressStart: function onPressStart(e) {\n      if (e.pointerType !== 'touch' && e.pointerType !== 'keyboard' && !isDisabled) {\n        (0, $jo7gW$reactariautils.focusWithoutScrolling)(e.target);\n        state.open(e.pointerType === 'virtual' ? 'first' : null);\n      }\n    },\n    onPress: function onPress(e) {\n      if (e.pointerType === 'touch' && !isDisabled) {\n        (0, $jo7gW$reactariautils.focusWithoutScrolling)(e.target);\n        state.toggle();\n      }\n    }\n  };\n  delete triggerProps.onPress;\n  return {\n    menuTriggerProps: Object.assign({}, triggerProps, trigger === 'press' ? pressProps : longPressProps, {\n      id: menuTriggerId,\n      onKeyDown: onKeyDown\n    }),\n    menuProps: Object.assign({}, overlayProps, {\n      'aria-labelledby': menuTriggerId,\n      autoFocus: state.focusStrategy || true,\n      onClose: state.close\n    })\n  };\n}","map":{"version":3,"names":["$7211ab9328763fb9$export$dc9c12ed27dd1b49","props","state","ref","_props$type","type","isDisabled","_props$trigger","trigger","menuTriggerId","$jo7gW$reactariautils","useId","_ref","$jo7gW$reactariaoverlays","useOverlayTrigger","triggerProps","overlayProps","onKeyDown","e","altKey","current","key","isDefaultPrevented","stopPropagation","preventDefault","toggle","continuePropagation","stringFormatter","$jo7gW$reactariai18n","useLocalizedStringFormatter","$parcel$interopDefault","$d1742ec2644a0949$exports","_ref2","$jo7gW$reactariainteractions","useLongPress","accessibilityDescription","format","onLongPressStart","close","onLongPress","open","longPressProps","pressProps","preventFocusOnPress","onPressStart","pointerType","focusWithoutScrolling","target","onPress","menuTriggerProps","Object","assign","id","menuProps","autoFocus","focusStrategy","onClose"],"sources":["D:\\Programming\\Systems\\Hybrid-Systems\\RespondaPH\\mobile\\node_modules\\@react-aria\\menu\\dist\\packages\\@react-aria\\menu\\src\\useMenuTrigger.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {AriaButtonProps} from '@react-types/button';\nimport {AriaMenuOptions} from './useMenu';\nimport {FocusableElement, RefObject} from '@react-types/shared';\nimport {focusWithoutScrolling, useId} from '@react-aria/utils';\n// @ts-ignore\nimport intlMessages from '../intl/*.json';\nimport {MenuTriggerState} from '@react-stately/menu';\nimport {MenuTriggerType} from '@react-types/menu';\nimport {PressProps, useLongPress} from '@react-aria/interactions';\nimport {useLocalizedStringFormatter} from '@react-aria/i18n';\nimport {useOverlayTrigger} from '@react-aria/overlays';\n\nexport interface AriaMenuTriggerProps {\n  /** The type of menu that the menu trigger opens. */\n  type?: 'menu' | 'listbox',\n  /** Whether menu trigger is disabled. */\n  isDisabled?: boolean,\n  /** How menu is triggered. */\n  trigger?: MenuTriggerType\n}\n\nexport interface MenuTriggerAria<T> {\n  /** Props for the menu trigger element. */\n  menuTriggerProps: AriaButtonProps,\n\n  /** Props for the menu. */\n  menuProps: AriaMenuOptions<T>\n}\n\n/**\n * Provides the behavior and accessibility implementation for a menu trigger.\n * @param props - Props for the menu trigger.\n * @param state - State for the menu trigger.\n * @param ref - Ref to the HTML element trigger for the menu.\n */\nexport function useMenuTrigger<T>(props: AriaMenuTriggerProps, state: MenuTriggerState, ref: RefObject<Element | null>): MenuTriggerAria<T> {\n  let {\n    type = 'menu',\n    isDisabled,\n    trigger = 'press'\n  } = props;\n\n  let menuTriggerId = useId();\n  let {triggerProps, overlayProps} = useOverlayTrigger({type}, state, ref);\n\n  let onKeyDown = (e) => {\n    if (isDisabled) {\n      return;\n    }\n\n    if (trigger === 'longPress' && !e.altKey) {\n      return;\n    }\n\n    if (ref && ref.current) {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          // React puts listeners on the same root, so even if propagation was stopped, immediate propagation is still possible.\n          // useTypeSelect will handle the spacebar first if it's running, so we don't want to open if it's handled it already.\n          // We use isDefaultPrevented() instead of isPropagationStopped() because createEventHandler stops propagation by default.\n          // And default prevented means that the event was handled by something else (typeahead), so we don't want to open the menu.\n          if (trigger === 'longPress' || e.isDefaultPrevented()) {\n            return;\n          }\n          // fallthrough\n        case 'ArrowDown':\n          // Stop propagation, unless it would already be handled by useKeyboard.\n          if (!('continuePropagation' in e)) {\n            e.stopPropagation();\n          }\n          e.preventDefault();\n          state.toggle('first');\n          break;\n        case 'ArrowUp':\n          if (!('continuePropagation' in e)) {\n            e.stopPropagation();\n          }\n          e.preventDefault();\n          state.toggle('last');\n          break;\n        default:\n          // Allow other keys.\n          if ('continuePropagation' in e) {\n            e.continuePropagation();\n          }\n      }\n    }\n  };\n\n  let stringFormatter = useLocalizedStringFormatter(intlMessages, '@react-aria/menu');\n  let {longPressProps} = useLongPress({\n    isDisabled: isDisabled || trigger !== 'longPress',\n    accessibilityDescription: stringFormatter.format('longPressMessage'),\n    onLongPressStart() {\n      state.close();\n    },\n    onLongPress() {\n      state.open('first');\n    }\n  });\n\n  let pressProps: PressProps =  {\n    preventFocusOnPress: true,\n    onPressStart(e) {\n      // For consistency with native, open the menu on mouse/key down, but touch up.\n      if (e.pointerType !== 'touch' && e.pointerType !== 'keyboard' && !isDisabled) {\n        // Ensure trigger has focus before opening the menu so it can be restored by FocusScope on close.\n        focusWithoutScrolling(e.target as FocusableElement);\n\n        // If opened with a screen reader, auto focus the first item.\n        // Otherwise, the menu itself will be focused.\n        state.open(e.pointerType === 'virtual' ? 'first' : null);\n      }\n    },\n    onPress(e) {\n      if (e.pointerType === 'touch' && !isDisabled) {\n        // Ensure trigger has focus before opening the menu so it can be restored by FocusScope on close.\n        focusWithoutScrolling(e.target as FocusableElement);\n\n        state.toggle();\n      }\n    }\n  };\n\n  // omit onPress from triggerProps since we override it above.\n  delete triggerProps.onPress;\n\n  return {\n    // @ts-ignore - TODO we pass out both DOMAttributes AND AriaButtonProps, but useButton will discard the longPress event handlers, it's only through PressResponder magic that this works for RSP and RAC. it does not work in aria examples\n    menuTriggerProps: {\n      ...triggerProps,\n      ...(trigger === 'press' ? pressProps : longPressProps),\n      id: menuTriggerId,\n      onKeyDown\n    },\n    menuProps: {\n      ...overlayProps,\n      'aria-labelledby': menuTriggerId,\n      autoFocus: state.focusStrategy || true,\n      onClose: state.close\n    }\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}