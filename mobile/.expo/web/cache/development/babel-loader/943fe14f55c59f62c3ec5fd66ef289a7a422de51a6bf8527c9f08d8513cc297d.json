{"ast":null,"code":"var _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar $2308dc377e184bb0$exports = require(\"./keyboard.main.js\");\nvar $4gIVO$react = require(\"react\");\nvar $4gIVO$reactariassr = require(\"@react-aria/ssr\");\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {\n    get: v,\n    set: s,\n    enumerable: true,\n    configurable: true\n  });\n}\n$parcel$export(module.exports, \"useViewportSize\", function () {\n  return $8b24bab62f5c65ad$export$d699905dd57c73ca;\n});\nvar $8b24bab62f5c65ad$var$visualViewport = typeof document !== 'undefined' && window.visualViewport;\nfunction $8b24bab62f5c65ad$export$d699905dd57c73ca() {\n  var isSSR = (0, $4gIVO$reactariassr.useIsSSR)();\n  var _ref = (0, $4gIVO$react.useState)(function () {\n      return isSSR ? {\n        width: 0,\n        height: 0\n      } : $8b24bab62f5c65ad$var$getViewportSize();\n    }),\n    _ref2 = _slicedToArray(_ref, 2),\n    size = _ref2[0],\n    setSize = _ref2[1];\n  (0, $4gIVO$react.useEffect)(function () {\n    var onResize = function onResize() {\n      if ($8b24bab62f5c65ad$var$visualViewport && $8b24bab62f5c65ad$var$visualViewport.scale > 1) return;\n      setSize(function (size) {\n        var newSize = $8b24bab62f5c65ad$var$getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) return size;\n        return newSize;\n      });\n    };\n    var frame;\n    var onBlur = function onBlur(e) {\n      if ($8b24bab62f5c65ad$var$visualViewport && $8b24bab62f5c65ad$var$visualViewport.scale > 1) return;\n      if ((0, $2308dc377e184bb0$exports.willOpenKeyboard)(e.target)) frame = requestAnimationFrame(function () {\n          if (!document.activeElement || !(0, $2308dc377e184bb0$exports.willOpenKeyboard)(document.activeElement)) setSize(function (size) {\n            var newSize = {\n              width: window.innerWidth,\n              height: window.innerHeight\n            };\n            if (newSize.width === size.width && newSize.height === size.height) return size;\n            return newSize;\n          });\n        });\n    };\n    window.addEventListener('blur', onBlur, true);\n    if (!$8b24bab62f5c65ad$var$visualViewport) window.addEventListener('resize', onResize);else $8b24bab62f5c65ad$var$visualViewport.addEventListener('resize', onResize);\n    return function () {\n      cancelAnimationFrame(frame);\n      window.removeEventListener('blur', onBlur, true);\n      if (!$8b24bab62f5c65ad$var$visualViewport) window.removeEventListener('resize', onResize);else $8b24bab62f5c65ad$var$visualViewport.removeEventListener('resize', onResize);\n    };\n  }, []);\n  return size;\n}\nfunction $8b24bab62f5c65ad$var$getViewportSize() {\n  return {\n    width: $8b24bab62f5c65ad$var$visualViewport ? $8b24bab62f5c65ad$var$visualViewport.width * $8b24bab62f5c65ad$var$visualViewport.scale : window.innerWidth,\n    height: $8b24bab62f5c65ad$var$visualViewport ? $8b24bab62f5c65ad$var$visualViewport.height * $8b24bab62f5c65ad$var$visualViewport.scale : window.innerHeight\n  };\n}","map":{"version":3,"names":["$8b24bab62f5c65ad$var$visualViewport","document","window","visualViewport","$8b24bab62f5c65ad$export$d699905dd57c73ca","isSSR","$4gIVO$reactariassr","useIsSSR","_ref","$4gIVO$react","useState","width","height","$8b24bab62f5c65ad$var$getViewportSize","_ref2","_slicedToArray","size","setSize","useEffect","onResize","scale","newSize","frame","onBlur","e","$2308dc377e184bb0$exports","willOpenKeyboard","target","requestAnimationFrame","activeElement","innerWidth","innerHeight","addEventListener","cancelAnimationFrame","removeEventListener"],"sources":["D:\\Programming\\Systems\\Hybrid-Systems\\RespondaPH\\mobile\\node_modules\\@react-aria\\utils\\dist\\packages\\@react-aria\\utils\\src\\useViewportSize.ts"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {useEffect, useState} from 'react';\nimport {useIsSSR} from '@react-aria/ssr';\nimport {willOpenKeyboard} from './keyboard';\n\ninterface ViewportSize {\n  width: number,\n  height: number\n}\n\nlet visualViewport = typeof document !== 'undefined' && window.visualViewport;\n\nexport function useViewportSize(): ViewportSize {\n  let isSSR = useIsSSR();\n  let [size, setSize] = useState(() => isSSR ? {width: 0, height: 0} : getViewportSize());\n\n  useEffect(() => {\n    // Use visualViewport api to track available height even on iOS virtual keyboard opening\n    let onResize = () => {\n      // Ignore updates when zoomed.\n      if (visualViewport && visualViewport.scale > 1) {\n        return;\n      }\n\n      setSize(size => {\n        let newSize = getViewportSize();\n        if (newSize.width === size.width && newSize.height === size.height) {\n          return size;\n        }\n        return newSize;\n      });\n    };\n\n    // When closing the keyboard, iOS does not fire the visual viewport resize event until the animation is complete.\n    // We can anticipate this and resize early by handling the blur event and using the layout size.\n    let frame: number;\n    let onBlur = (e: FocusEvent) => {\n      if (visualViewport && visualViewport.scale > 1) {\n        return;\n      }\n\n      if (willOpenKeyboard(e.target as Element)) {\n        // Wait one frame to see if a new element gets focused.\n        frame = requestAnimationFrame(() => {\n          if (!document.activeElement || !willOpenKeyboard(document.activeElement)) {\n            setSize(size => {\n              let newSize = {width: window.innerWidth, height: window.innerHeight};\n              if (newSize.width === size.width && newSize.height === size.height) {\n                return size;\n              }\n              return newSize;\n            });\n          }\n        });\n      }\n    };\n\n    window.addEventListener('blur', onBlur, true);\n\n    if (!visualViewport) {\n      window.addEventListener('resize', onResize);\n    } else {\n      visualViewport.addEventListener('resize', onResize);\n    }\n\n    return () => {\n      cancelAnimationFrame(frame);\n      window.removeEventListener('blur', onBlur, true);\n      if (!visualViewport) {\n        window.removeEventListener('resize', onResize);\n      } else {\n        visualViewport.removeEventListener('resize', onResize);\n      }\n    };\n  }, []);\n\n  return size;\n}\n\nfunction getViewportSize(): ViewportSize {\n  return {\n    // Multiply by the visualViewport scale to get the \"natural\" size, unaffected by pinch zooming.\n    width: visualViewport ? visualViewport.width * visualViewport.scale : window.innerWidth,\n    height: visualViewport ? visualViewport.height * visualViewport.scale : window.innerHeight\n  };\n}\n"],"mappings":";;;;;;;;;;;;;;;AAqBA,IAAIA,oCAAA,GAAiB,OAAOC,QAAA,KAAa,eAAeC,MAAA,CAAOC,cAAc;AAEtE,SAASC,0CAAA;EACd,IAAIC,KAAA,GAAQ,IAAAC,mBAAA,CAAAC,QAAO;EACnB,IAAAC,IAAA,GAAsB,IAAAC,YAAA,CAAAC,QAAO,EAAE;MAAA,OAAML,KAAA,GAAQ;QAACM,KAAA,EAAO;QAAGC,MAAA,EAAQ;MAAC,IAAIC,qCAAA;IAAA;IAAAC,KAAA,GAAAC,cAAA,CAAAP,IAAA;IAAhEQ,IAAA,GAAAF,KAAA;IAAMG,OAAA,GAAAH,KAAA;EAEX,IAAAL,YAAA,CAAAS,SAAQ,EAAE;IAER,IAAIC,QAAA,GAAW,SAAXA,SAAA,EAAW;MAEb,IAAInB,oCAAA,IAAkBA,oCAAA,CAAeoB,KAAK,GAAG,GAC3C;MAGFH,OAAA,CAAQ,UAAAD,IAAA;QACN,IAAIK,OAAA,GAAUR,qCAAA;QACd,IAAIQ,OAAA,CAAQV,KAAK,KAAKK,IAAA,CAAKL,KAAK,IAAIU,OAAA,CAAQT,MAAM,KAAKI,IAAA,CAAKJ,MAAM,EAChE,OAAOI,IAAA;QAET,OAAOK,OAAA;MACT;IACF;IAIA,IAAIC,KAAA;IACJ,IAAIC,MAAA,GAAS,SAATA,OAAUC,CAAA;MACZ,IAAIxB,oCAAA,IAAkBA,oCAAA,CAAeoB,KAAK,GAAG,GAC3C;MAGF,IAAI,IAAAK,yBAAA,CAAAC,gBAAe,EAAEF,CAAA,CAAEG,MAAM,GAE3BL,KAAA,GAAQM,qBAAA,CAAsB;UAC5B,IAAI,CAAC3B,QAAA,CAAS4B,aAAa,IAAI,CAAC,IAAAJ,yBAAA,CAAAC,gBAAe,EAAEzB,QAAA,CAAS4B,aAAa,GACrEZ,OAAA,CAAQ,UAAAD,IAAA;YACN,IAAIK,OAAA,GAAU;cAACV,KAAA,EAAOT,MAAA,CAAO4B,UAAU;cAAElB,MAAA,EAAQV,MAAA,CAAO6B;YAAW;YACnE,IAAIV,OAAA,CAAQV,KAAK,KAAKK,IAAA,CAAKL,KAAK,IAAIU,OAAA,CAAQT,MAAM,KAAKI,IAAA,CAAKJ,MAAM,EAChE,OAAOI,IAAA;YAET,OAAOK,OAAA;UACT;QAEJ;IAEJ;IAEAnB,MAAA,CAAO8B,gBAAgB,CAAC,QAAQT,MAAA,EAAQ;IAExC,IAAI,CAACvB,oCAAA,EACHE,MAAA,CAAO8B,gBAAgB,CAAC,UAAUb,QAAA,OAElCnB,oCAAA,CAAegC,gBAAgB,CAAC,UAAUb,QAAA;IAG5C,OAAO;MACLc,oBAAA,CAAqBX,KAAA;MACrBpB,MAAA,CAAOgC,mBAAmB,CAAC,QAAQX,MAAA,EAAQ;MAC3C,IAAI,CAACvB,oCAAA,EACHE,MAAA,CAAOgC,mBAAmB,CAAC,UAAUf,QAAA,OAErCnB,oCAAA,CAAekC,mBAAmB,CAAC,UAAUf,QAAA;IAEjD;EACF,GAAG,EAAE;EAEL,OAAOH,IAAA;AACT;AAEA,SAASH,sCAAA;EACP,OAAO;IAELF,KAAA,EAAOX,oCAAA,GAAiBA,oCAAA,CAAeW,KAAK,GAAGX,oCAAA,CAAeoB,KAAK,GAAGlB,MAAA,CAAO4B,UAAU;IACvFlB,MAAA,EAAQZ,oCAAA,GAAiBA,oCAAA,CAAeY,MAAM,GAAGZ,oCAAA,CAAeoB,KAAK,GAAGlB,MAAA,CAAO6B;EACjF;AACF","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}